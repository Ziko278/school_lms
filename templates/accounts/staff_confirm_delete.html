{% extends 'base/base_admin.html' %}
{% load static %}

{% block title %}Confirm Delete Staff | {{ school_info.school_name }}{% endblock %}

{% block main %}
<div class="pagetitle">
    <h1>Confirm Staff Deletion</h1>
    {% include 'components/breadcrumb.html' %}
</div><!-- End Page Title -->

<section class="section">
    <div class="row justify-content-center">
        <div class="col-lg-6">
            <div class="card border-danger shadow-sm">
                 <div class="card-header bg-danger text-white">
                    <h5 class="card-title text-white mb-0"><i class="bi bi-exclamation-triangle-fill me-2"></i> Confirm Deletion</h5>
                 </div>
                <div class="card-body">
                    <p class="mt-3">Are you absolutely sure you want to delete the following staff member?</p>

                    <ul class="list-group list-group-flush mb-3">
                        <li class="list-group-item"><strong>Staff ID:</strong> {{ staff.staff_id }}</li>
                        <li class="list-group-item"><strong>Name:</strong> {{ staff.user.get_full_name|default:staff.user.username }}</li>
                        <li class="list-group-item"><strong>Department:</strong> {{ staff.department.name|default:"N/A" }}</li>
                        <li class="list-group-item"><strong>Designation:</strong> {{ staff.designation|default:"N/A" }}</li>
                    </ul>

                     <div class="alert alert-danger" role="alert">
                        <strong>Warning!</strong> This action will permanently delete the staff record and their associated user account. This cannot be undone. Any course allocations or other records linked solely to this user might be affected or removed.
                     </div>

                    <form action="{% url 'accounts:staff_delete' staff.id %}" method="post" class="text-center mt-4">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-danger"><i class="bi bi-trash me-1"></i> Yes, Delete Staff</button>
                        <a href="{% url 'accounts:staff_detail' staff.id %}" class="btn btn-secondary">Cancel</a>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
